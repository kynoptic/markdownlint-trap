#!/bin/sh
# Enhanced pre-commit hook with build artifact checking

echo "ğŸ” Running pre-commit checks..."

# Run lint-staged for staged file fixes
npx lint-staged

# Check if build artifacts need updating after linting fixes
echo "ğŸ”„ Checking if build artifacts need updating..."
if npm run build --silent 2>/dev/null; then
    # Build artifacts are gitignored, so we don't stage them
    # They will be regenerated by users when they run npm install
    echo "âœ… Build completed successfully"
else
    echo "âŒ Build failed after linting fixes"
    exit 1
fi

echo "âœ… Pre-commit checks completed"
